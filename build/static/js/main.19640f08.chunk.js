(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{5432:function(e,t,n){e.exports=n(5591)},5583:function(e,t,n){},5590:function(e,t,n){},5591:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(35),i=n.n(o),c=n(12),s=n.n(c),l=n(76),u=n(38),d=n(27),m=n(11),p=n(42),h=n.n(p),f=n(37),b=n.n(f);var k=Object(m.withStyles)(function(e){return{root:Object(d.a)({},e.mixins.gutters(),{paddingTop:2*e.spacing.unit,paddingBottom:2*e.spacing.unit})}})(function(e){var t=e.classes;return r.a.createElement("div",null,r.a.createElement(h.a,{className:t.root,elevation:1},r.a.createElement(b.a,{variant:"headline",component:"h1"},"Hello Mountains Admin Page")))}),g=n(10),E=n.n(g),v=n(20),w=n(28),y=n(29),O=n(31),x=n(30),j=n(32),z=n(23),S=n(6),B=n.n(S),C=n(71),N=n.n(C),U=n(67),I=n.n(U),T=n(68),_=n.n(T),A=n(64),R=n.n(A),P=n(74),L=n.n(P),W=n(44),D=n.n(W),G=n(69),F=n.n(G),H=n(70),M=n.n(H),X=n(73),q=n.n(X),J=n(72),K=n.n(J),Q=n(2),V=n(33);var Y=function(e){return r.a.createElement(Q.e,null,r.a.createElement(Q.f,{button:!0,onClick:function(){return e.onClick("Users")}},r.a.createElement(Q.g,null,r.a.createElement(V.e,null)),r.a.createElement(Q.h,{inset:!0,primary:"Users"})),r.a.createElement(Q.f,{button:!0,onClick:function(){return e.onClick("BlockedUsers")}},r.a.createElement(Q.g,null,r.a.createElement(V.a,null)),r.a.createElement(Q.h,{inset:!0,primary:"Blocked users"})),r.a.createElement(Q.f,{button:!0,onClick:function(){return e.onClick("Opinions")}},r.a.createElement(Q.g,null,r.a.createElement(V.d,null)),r.a.createElement(Q.h,{inset:!0,primary:"Opinions"})),r.a.createElement(Q.f,{button:!0,onClick:function(){return e.onClick("BlockedOpinions")}},r.a.createElement(Q.g,null,r.a.createElement(V.g,null)),r.a.createElement(Q.h,{inset:!0,primary:"Blocked opinions"})),r.a.createElement(Q.f,{button:!0,onClick:function(){return e.onClick("Places")}},r.a.createElement(Q.g,null,r.a.createElement(V.f,null)),r.a.createElement(Q.h,{inset:!0,primary:"Places"})))},Z=n(65),$=n.n(Z),ee=n(66),te=n.n(ee),ne=n(43),ae=n.n(ne),re=Object(m.withStyles)(function(e){return{head:{backgroundColor:"#3f51b5",color:e.palette.common.white,fontSize:19,fontWeight:500},body:{fontSize:16,fontWeight:400}}})(Q.l),oe=function(e){function t(e){var n;return Object(w.a)(this,t),(n=Object(O.a)(this,Object(x.a)(t).call(this,e))).state={users:[],blockedUsers:[]},n}return Object(j.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){var e=Object(v.a)(E.a.mark(function e(){var t,n,a,r,o,i,c;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0="Bearer ",e.next=3,localStorage.getItem("token");case 3:if(e.t1=e.sent,t=e.t0.concat.call(e.t0,e.t1),e.prev=5,localStorage.getItem("email")){e.next=12;break}return e.next=9,s.a.get("/users/me",{headers:{Authorization:t}});case 9:return n=e.sent,e.next=12,localStorage.setItem("email",n.data.user.email);case 12:return e.next=14,s.a.get("admin/users",{headers:{Authorization:t}});case 14:return a=e.sent,e.next=17,s.a.get("admin/users/blocked",{headers:{Authorization:t}});case 17:r=e.sent,o=localStorage.getItem("email"),i=a.data.users.filter(function(e){return e.email!==o}).filter(function(e){return!e.isBanned}),c=r.data.blockedUsers,this.setState({users:i,blockedUsers:c}),e.next=27;break;case 24:e.prev=24,e.t2=e.catch(5),console.error(e.t2.response.data.message);case 27:case"end":return e.stop()}},e,this,[[5,24]])}));return function(){return e.apply(this,arguments)}}()},{key:"confirmBlocking",value:function(){var e=Object(v.a)(E.a.mark(function e(t){var n,a,r;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure you want to block this user?")){e.next=16;break}return e.t0="Bearer ",e.next=4,localStorage.getItem("token");case 4:return e.t1=e.sent,n=e.t0.concat.call(e.t0,e.t1),e.prev=6,e.next=9,s.a.put("admin/users/".concat(t,"/block"),{},{headers:{Authorization:n}});case 9:"User blocked"===(a=e.sent).data.message&&((r=this.state.blockedUsers).push(a.data.user),this.setState({users:this.state.users.filter(function(e){return e._id!==t}),blockedUsers:r})),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(6),console.error(e.t2);case 16:case"end":return e.stop()}},e,this,[[6,13]])}));return function(t){return e.apply(this,arguments)}}()},{key:"confirmUnblocking",value:function(){var e=Object(v.a)(E.a.mark(function e(t){var n,a,r;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure you want to unblock this user?")){e.next=16;break}return e.t0="Bearer ",e.next=4,localStorage.getItem("token");case 4:return e.t1=e.sent,n=e.t0.concat.call(e.t0,e.t1),e.prev=6,e.next=9,s.a.put("admin/users/".concat(t,"/unblock"),{},{headers:{Authorization:n}});case 9:"User unblocked"===(a=e.sent).data.message&&((r=this.state.users).push(a.data.user),this.setState({users:r,blockedUsers:this.state.blockedUsers.filter(function(e){return e._id!==t})})),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(6),console.error(e.t2.response.data.message);case 16:case"end":return e.stop()}},e,this,[[6,13]])}));return function(t){return e.apply(this,arguments)}}()},{key:"deleteUser",value:function(){var e=Object(v.a)(E.a.mark(function e(t){var n,a;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure you want to delete this user?")){e.next=16;break}return e.t0="Bearer ",e.next=4,localStorage.getItem("token");case 4:return e.t1=e.sent,n=e.t0.concat.call(e.t0,e.t1),e.prev=6,e.next=9,s.a.delete("admin/users/".concat(t),{headers:{Authorization:n}});case 9:"User deleted"===(a=e.sent).data.message&&(this.props.blocked?this.setState({blockedUsers:this.state.blockedUsers.filter(function(e){return e._id!==a.data.user._id})}):this.setState({users:this.state.users.filter(function(e){return e._id!==a.data.user._id})})),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(6),console.error(e.t2.response.data.message);case 16:case"end":return e.stop()}},e,this,[[6,13]])}));return function(t){return e.apply(this,arguments)}}()},{key:"renderTableRow",value:function(e,t){var n=this,a=this.props.classes;return r.a.createElement(Q.n,{className:a.row,key:e._id},r.a.createElement(re,{component:"th",scope:"row"},e.username),r.a.createElement(re,{align:"center"},e.email),r.a.createElement(re,{align:"center"},r.a.createElement(Q.b,{value:e._id,variant:"contained",color:"secondary",className:a.button,onClick:t},this.props.blocked?r.a.createElement(r.a.Fragment,null,"unblock",r.a.createElement(te.a,{className:a.rightIcon})):r.a.createElement(r.a.Fragment,null,"block user",r.a.createElement($.a,{className:a.rightIcon})))),r.a.createElement(re,{align:"center"},r.a.createElement(Q.b,{value:e._id,variant:"contained",color:"secondary",className:a.button,onClick:function(){return n.deleteUser(e._id)}},"Delete user",r.a.createElement(ae.a,{className:a.rightIcon}))))}},{key:"renderEmptyUsersTableBody",value:function(){return r.a.createElement(Q.k,null,r.a.createElement(Q.n,{className:this.props.classes.row},r.a.createElement(re,null,"No blocked users")))}},{key:"renderBlockedUsers",value:function(){var e=this;return this.state.blockedUsers.map(function(t){return e.renderTableRow(t,function(){return e.confirmUnblocking(t._id)})})}},{key:"renderNonBlockedUsers",value:function(){var e=this;return this.state.users.map(function(t){return e.renderTableRow(t,function(){return e.confirmBlocking(t._id)})})}},{key:"renderTableBody",value:function(){return!this.state.blockedUsers&&this.props.blocked?this.renderEmptyUsersTableBody():this.props.blocked?this.renderBlockedUsers():this.renderNonBlockedUsers()}},{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(Q.d,{container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(Q.o,{variant:"h3"},"".concat(this.props.blocked?"Blocked":"Registered"," users")),r.a.createElement(Q.i,{className:e.paper},r.a.createElement(Q.j,{className:e.table},r.a.createElement(Q.m,null,r.a.createElement(Q.n,null,r.a.createElement(re,null,"username"),r.a.createElement(re,{align:"center"},"email"),r.a.createElement(re,{align:"center"},this.props.blocked?"unblock":"block"),r.a.createElement(re,{align:"center"},"delete"))),r.a.createElement(Q.k,null,this.renderTableBody()))))}}]),t}(r.a.Component),ie=Object(m.withStyles)(function(e){return{paper:{width:"90%",marginTop:3*e.spacing.unit,overflowX:"auto"},table:{minWidth:500},row:{"&:nth-of-type(even)":{backgroundColor:"#dcdff1"}},rightIcon:{marginLeft:5}}})(oe);var ce=Object(m.withStyles)(function(e){return{root:{display:"flex"},toolbar:Object(d.a)({display:"flex",alignItems:"center",justifyContent:"center",padding:"0 8px"},e.mixins.toolbar),content:{flexGrow:1,padding:3*e.spacing.unit}}})(function(e){var t=e.classes;return r.a.createElement("main",{className:t.content},r.a.createElement("div",{className:t.toolbar},r.a.createElement(ie,{blocked:e.blocked})))}),se=Object(m.withStyles)(function(e){return{head:{backgroundColor:"#3f51b5",color:e.palette.common.white,fontSize:19,fontWeight:500},body:{fontSize:14,fontWeight:400}}})(Q.l),le=0;function ue(e,t,n,a,r,o){var i=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return{_id:++le,place:e,author:t,text:n,date:a,likes:r,tags:o,isBlocked:i}}var de=[ue("Rysy","Tomasz_Kowalski","Dzisiaj pi\u0119kna pogoda i \u015bwietna widoczno\u015b\u0107 - warto zabra\u0107 aparat","29-05-2019",13,"s\u0142onecznie, bezpiecznie, dobra widoczno\u015b\u0107"),ue("Rysy","prz.szopa96","Bardzo \u015blisko po deszczu, trzeba uwa\u017ca\u0107","30-05-2019",2,"\u015blisko deszcz"),ue("Giewont","weronka341","Pogoda dopisa\u0142a, ale trasa bardzo zat\u0142oczona","29-05-2019",3,"s\u0142onecznie, t\u0142ok"),ue("\u0141omnica","oski997","Na szczycie niesamowita mg\u0142a, radz\u0119 zachowa\u0107 ostro\u017cno\u015b\u0107","27-05-2019",5,"mg\u0142a, s\u0142aba widoczno\u015b\u0107"),ue("\u0141omnica","swieradOlek","Trzeba zachowa\u0107 szczeg\xf3ln\u0105 ostro\u017cno\u015b\u0107 z uwagi na mg\u0142\u0119.","28-05-2019",0,"mg\u0142a, s\u0142aba widoczno\u015b\u0107",!0),ue("\u015awinica","ptr.wos","Niestety ze wzgl\u0119du na bardzo ulewny deszcz nie podj\u0119li\u015bmy si\u0119 zdobycia szczytu.","30-05-2019",69,"deszcz, \u015blisko, pochmurno"),ue("Giewont","weronka341","Pogoda dopisa\u0142a, ale trasa bardzo zat\u0142oczona","29-05-2019",7,"s\u0142onecznie, t\u0142ok"),ue("Giewont","weronka341","Pogoda dopisa\u0142a, ale trasa bardzo zat\u0142oczona","29-05-2019",1,"s\u0142onecznie, t\u0142ok",!0)],me=function(e){function t(e){var n;return Object(w.a)(this,t),(n=Object(O.a)(this,Object(x.a)(t).call(this,e))).state={opinions:[],blockedOpinions:[]},n}return Object(j.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){var e=Object(v.a)(E.a.mark(function e(){var t,n,a,r;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.props.mocked){e.next=4;break}this.setState({opinions:de.filter(function(e){return!e.isBlocked}),blockedOpinions:de.filter(function(e){return e.isBlocked})}),e.next=24;break;case 4:return e.t0="Bearer ",e.next=7,localStorage.getItem("token");case 7:return e.t1=e.sent,t=e.t0.concat.call(e.t0,e.t1),e.prev=9,e.next=12,s.a.get("admin/opinions",{headers:{Authorization:t}});case 12:return n=e.sent,n.data.opinions,e.next=16,s.a.get("admin/users/blocked",{headers:{Authorization:t}});case 16:a=e.sent,r=a.data.blockedOpinions,this.setState({blockedOpinions:r}),e.next=24;break;case 21:e.prev=21,e.t2=e.catch(9),console.error(e.t2.response.data.message);case 24:case"end":return e.stop()}},e,this,[[9,21]])}));return function(){return e.apply(this,arguments)}}()},{key:"confirmBlocking",value:function(){var e=Object(v.a)(E.a.mark(function e(t){var n,a,r;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure you want to block this opinion?")){e.next=21;break}if(!this.props.mocked){e.next=6;break}de[t-1].isBlocked=!0,this.setState({opinions:de.filter(function(e){return!e.isBlocked}),blockedOpinions:de.filter(function(e){return e.isBlocked})}),e.next=21;break;case 6:return e.t0="Bearer ",e.next=9,localStorage.getItem("token");case 9:return e.t1=e.sent,n=e.t0.concat.call(e.t0,e.t1),e.prev=11,e.next=14,s.a.put("admin/opinions/".concat(t,"/block"),{},{headers:{Authorization:n}});case 14:"Opinion blocked"===(a=e.sent).data.message&&((r=this.state.blockedOpinions).push(a.data.opinion),this.setState({opinions:this.state.opinions.filter(function(e){return e._id!==t}),blockedOpinions:r})),e.next=21;break;case 18:e.prev=18,e.t2=e.catch(11),console.error(e.t2);case 21:case"end":return e.stop()}},e,this,[[11,18]])}));return function(t){return e.apply(this,arguments)}}()},{key:"confirmUnblocking",value:function(){var e=Object(v.a)(E.a.mark(function e(t){var n,a,r;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure you want to unblock this opinion?")){e.next=21;break}if(!this.props.mocked){e.next=6;break}de[t-1].isBlocked=!1,this.setState({opinions:de.filter(function(e){return!e.isBlocked}),blockedOpinions:de.filter(function(e){return e.isBlocked})}),e.next=21;break;case 6:return e.t0="Bearer ",e.next=9,localStorage.getItem("token");case 9:return e.t1=e.sent,n=e.t0.concat.call(e.t0,e.t1),e.prev=11,e.next=14,s.a.put("admin/opinions/".concat(t,"/unblock"),{},{headers:{Authorization:n}});case 14:"Opinion unblocked"===(a=e.sent).data.message&&((r=this.state.opinions).push(a.data.opinion),this.setState({opinions:r,blockedOpinions:this.state.blockedOpinions.filter(function(e){return e._id!==t})})),e.next=21;break;case 18:e.prev=18,e.t2=e.catch(11),console.error(e.t2.response.data.message);case 21:case"end":return e.stop()}},e,this,[[11,18]])}));return function(t){return e.apply(this,arguments)}}()},{key:"deleteOpinion",value:function(){var e=Object(v.a)(E.a.mark(function e(t){var n;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure you want to delete this opinion?")){e.next=22;break}if(!this.props.mocked){e.next=6;break}de.splice(t-1,1),this.setState({opinions:de.filter(function(e){return!e.isBlocked}),blockedOpinions:de.filter(function(e){return e.isBlocked})}),e.next=22;break;case 6:return e.t0="Bearer ",e.next=9,localStorage.getItem("token");case 9:return e.t1=e.sent,n=e.t0.concat.call(e.t0,e.t1),e.prev=11,e.next=14,s.a.delete("admin/opinions/".concat(t),{headers:{Authorization:n}});case 14:"Opinion deleted"===e.sent.data.message&&(this.props.blocked?this.setState({blockedOpinions:this.state.blockedOpinions.filter(function(e){return e._id!==t})}):this.setState({opinions:this.state.opinions.filter(function(e){return e._id!==t})})),window.location.reload(),e.next=22;break;case 19:e.prev=19,e.t2=e.catch(11),console.error(e.t2.response.data.message);case 22:case"end":return e.stop()}},e,this,[[11,19]])}));return function(t){return e.apply(this,arguments)}}()},{key:"renderTableHead",value:function(){return r.a.createElement(Q.m,null,r.a.createElement(Q.n,null,r.a.createElement(se,null,"place"),r.a.createElement(se,{align:"center"},"author"),r.a.createElement(se,{align:"center"},"text"),r.a.createElement(se,{align:"center"},"date"),r.a.createElement(se,{align:"center"},"likes"),r.a.createElement(se,{align:"center"},"tags"),r.a.createElement(se,{align:"center"},"".concat(this.props.blocked?"unblock":"blocked"," | delete"))))}},{key:"renderTableRow",value:function(e,t){var n=this,a=this.props.classes;return r.a.createElement(Q.n,{className:a.row,key:e._id},r.a.createElement(se,{size:"small"},e.place),r.a.createElement(se,{align:"center"},e.author),r.a.createElement(se,{align:"justify"},e.text),r.a.createElement(se,{align:"center"},e.date),r.a.createElement(se,{align:"center"},e.likes),r.a.createElement(se,{align:"center"},e.tags),r.a.createElement(se,{align:"center"},r.a.createElement(Q.b,{value:e._id,variant:"contained",color:"secondary",className:a.button,onClick:t},this.props.blocked?r.a.createElement(r.a.Fragment,null,"Unblock",r.a.createElement(V.c,{className:a.rightIcon})):r.a.createElement(r.a.Fragment,null,"Block",r.a.createElement(V.a,{className:a.rightIcon}))),r.a.createElement(Q.b,{value:e._id,variant:"contained",color:"secondary",className:a.button,onClick:function(){return n.deleteOpinion(e._id)}},"Delete",r.a.createElement(V.b,{className:a.rightIcon}))))}},{key:"renderEmptyOpinionsTableBody",value:function(){return r.a.createElement(Q.n,{className:this.props.classes.row},r.a.createElement(se,null,"No blocked opinions"))}},{key:"renderBlockedOpinions",value:function(){var e=this;return this.state.blockedOpinions.map(function(t){return e.renderTableRow(t,function(){return e.confirmUnblocking(t._id)})})}},{key:"renderNonBlockedOpinions",value:function(){var e=this;return this.state.opinions.map(function(t){return e.renderTableRow(t,function(){return e.confirmBlocking(t._id)})})}},{key:"renderTableBody",value:function(){return!this.state.blockedOpinions&&this.props.blocked?this.renderEmptyOpinionsTableBody():this.props.blocked?this.renderBlockedOpinions():this.renderNonBlockedOpinions()}},{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(Q.d,{container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(Q.o,{variant:"h3"},"".concat(this.props.blocked?"Blocked":"All"," opinions")),r.a.createElement(Q.i,{className:e.root},r.a.createElement(Q.j,{className:e.table,padding:"checkbox"},this.renderTableHead(),r.a.createElement(Q.k,null,this.renderTableBody()))))}}]),t}(r.a.Component),pe=Object(m.withStyles)(function(e){return{root:{width:"98%",marginTop:3*e.spacing.unit,overflowX:"auto"},table:{minWidth:500},row:{"&:nth-of-type(even)":{backgroundColor:"#dcdff1"},textAlign:"justify"},rightIcon:{marginLeft:5}}})(me);var he=Object(m.withStyles)(function(e){return{root:{display:"flex"},toolbar:Object(d.a)({display:"flex",alignItems:"center",justifyContent:"center",padding:"0 8px"},e.mixins.toolbar),content:{flexGrow:1,padding:3*e.spacing.unit}}})(function(e){var t=e.classes;return r.a.createElement("main",{className:t.content},r.a.createElement("div",{className:t.toolbar},r.a.createElement(pe,{mocked:e.mocked,blocked:e.blocked})))}),fe=Object(m.withStyles)(function(e){return{head:{backgroundColor:"#3f51b5",color:e.palette.common.white,fontSize:19,fontWeight:500},body:{fontSize:16,fontWeight:400}}})(Q.l),be=function(e){function t(e){var n;return Object(w.a)(this,t),(n=Object(O.a)(this,Object(x.a)(t).call(this,e))).state={places:[]},n}return Object(j.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){var e=Object(v.a)(E.a.mark(function e(){var t,n,a;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0="Bearer ",e.next=3,localStorage.getItem("token");case 3:return e.t1=e.sent,t=e.t0.concat.call(e.t0,e.t1),e.prev=5,e.next=8,s.a.get("places/",{headers:{Authorization:t}});case 8:n=e.sent,a=n.data.places,this.setState({places:a}),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),console.error(e.t2.response.data.message);case 16:case"end":return e.stop()}},e,this,[[5,13]])}));return function(){return e.apply(this,arguments)}}()},{key:"deletePlace",value:function(){var e=Object(v.a)(E.a.mark(function e(t){var n;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure you want to delete this place?")){e.next=16;break}return e.t0="Bearer ",e.next=4,localStorage.getItem("token");case 4:return e.t1=e.sent,n=e.t0.concat.call(e.t0,e.t1),e.prev=6,e.next=9,s.a.delete("admin/places/".concat(t),{headers:{Authorization:n}});case 9:"Place deleted"===e.sent.data.message&&this.setState({places:this.state.places.filter(function(e){return e.name!==t})}),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(6),console.error(e.t2.response.data.message);case 16:case"end":return e.stop()}},e,this,[[6,13]])}));return function(t){return e.apply(this,arguments)}}()},{key:"renderTableHeader",value:function(){return r.a.createElement(Q.m,null,r.a.createElement(Q.n,null,r.a.createElement(fe,null,"name"),r.a.createElement(fe,{align:"center"},"latitude"),r.a.createElement(fe,{align:"center"},"longitude"),r.a.createElement(fe,{align:"center"},"elevation"),r.a.createElement(fe,{align:"center"},"delete")))}},{key:"renderTableRow",value:function(e){var t=this,n=this.props.classes;return r.a.createElement(Q.n,{className:n.row,key:e._id},r.a.createElement(fe,{component:"th",scope:"row"},e.name),r.a.createElement(fe,{align:"center"},e.coordinates.latitude),r.a.createElement(fe,{align:"center"},e.coordinates.longitude),r.a.createElement(fe,{align:"center"},e.coordinates.elevation),r.a.createElement(fe,{align:"center"},r.a.createElement(Q.b,{value:e._id,variant:"contained",color:"secondary",className:n.button,onClick:function(){return t.deletePlace(e.name)}},"Delete place",r.a.createElement(ae.a,{className:n.rightIcon}))))}},{key:"renderEmptyPlacesList",value:function(){return r.a.createElement(Q.n,{className:this.props.classes.row},r.a.createElement(fe,null,"No places"))}},{key:"render",value:function(){var e=this,t=this.props.classes;return r.a.createElement(Q.d,{container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(Q.o,{variant:"h2"},"Places"),r.a.createElement(Q.i,{className:t.paper},r.a.createElement(Q.j,{className:t.table},this.renderTableHeader(),r.a.createElement(Q.k,null,this.state.places?this.state.places.map(function(t){return e.renderTableRow(t)}):this.renderEmptyPlacesList()))))}}]),t}(r.a.Component),ke=Object(m.withStyles)(function(e){return{paper:{width:"90%",marginTop:3*e.spacing.unit,overflowX:"auto"},table:{minWidth:500},row:{"&:nth-of-type(even)":{backgroundColor:"#dcdff1"}},rightIcon:{marginLeft:5}}})(be);var ge=Object(m.withStyles)(function(e){return{root:{display:"flex"},toolbar:Object(d.a)({display:"flex",alignItems:"center",justifyContent:"center",padding:"0 8px"},e.mixins.toolbar),content:{flexGrow:1,padding:3*e.spacing.unit}}})(function(e){var t=e.classes;return r.a.createElement("main",{className:t.content},r.a.createElement("div",{className:t.toolbar},r.a.createElement(ke,null)))});var Ee=function(e){return r.a.createElement(r.a.Fragment,null,function(){switch(e.value){case"Users":return r.a.createElement(ce,null);case"BlockedUsers":return r.a.createElement(ce,{blocked:!0});case"Opinions":return r.a.createElement(he,{mocked:!0});case"BlockedOpinions":return r.a.createElement(he,{mocked:!0,blocked:!0});case"Places":return r.a.createElement(ge,null);default:return null}}())},ve=function(e){function t(e){var n;return Object(w.a)(this,t),(n=Object(O.a)(this,Object(x.a)(t).call(this,e))).onClick=function(e){n.setState({whatToRender:e})},n.onLogout=Object(v.a)(E.a.mark(function e(){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.removeItem("token");case 2:n.props.history.replace("/");case 3:case"end":return e.stop()}},e)})),n.handleDrawerOpen=function(){n.setState({open:!0})},n.handleDrawerClose=function(){n.setState({open:!1})},n.state={open:!1,whatToRender:"Users"},n}return Object(j.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e,t,n=this,a=this.props,o=a.classes,i=a.theme;return r.a.createElement("div",{className:o.root},r.a.createElement(R.a,null),r.a.createElement(I.a,{position:"fixed",className:B()(o.appBar,Object(z.a)({},o.appBarShift,this.state.open))},r.a.createElement(_.a,{disableGutters:!this.state.open,className:o.panel},r.a.createElement(D.a,{color:"inherit","aria-label":"Open drawer",onClick:this.handleDrawerOpen,className:B()(o.menuButton,Object(z.a)({},o.hide,this.state.open))},r.a.createElement(F.a,null)),r.a.createElement(b.a,{align:"center",variant:"h5",color:"inherit",noWrap:!0},"Hello Mountains Admin Page"),r.a.createElement(D.a,{color:"inherit",onClick:function(){return n.onLogout()}},r.a.createElement(M.a,null)))),r.a.createElement(N.a,{variant:"permanent",className:B()(o.drawer,(e={},Object(z.a)(e,o.drawerOpen,this.state.open),Object(z.a)(e,o.drawerClose,!this.state.open),e)),classes:{paper:B()((t={},Object(z.a)(t,o.drawerOpen,this.state.open),Object(z.a)(t,o.drawerClose,!this.state.open),t))},open:this.state.open},r.a.createElement("div",{className:o.toolbar},r.a.createElement(D.a,{onClick:this.handleDrawerClose},"rtl"===i.direction?r.a.createElement(K.a,null):r.a.createElement(q.a,null))),r.a.createElement(L.a,null),r.a.createElement(Y,{onClick:this.onClick})),r.a.createElement("main",{className:o.content},r.a.createElement("div",{className:o.toolbar}),r.a.createElement(Ee,{value:this.state.whatToRender})))}}]),t}(r.a.Component),we=Object(u.f)(Object(m.withStyles)(function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginLeft:12,marginRight:36},hide:{display:"none"},drawer:{width:240,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:Object(z.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:7*e.spacing.unit+1},e.breakpoints.up("sm"),{width:9*e.spacing.unit+1}),toolbar:Object(d.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),content:{flexGrow:1,padding:3*e.spacing.unit},panel:{display:"flex",justifyContent:"space-between"}}},{withTheme:!0})(ve));var ye=function(){return r.a.createElement(we,null,r.a.createElement(k,null))},Oe=n(151);var xe=function(e){var t=e.component,n=Object(Oe.a)(e,["component"]);return r.a.createElement(u.b,Object.assign({},n,{render:function(e){return null!==localStorage.getItem("token")?r.a.createElement(t,e):r.a.createElement(u.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},je=(n(5583),n(75)),ze=n.n(je),Se=n(7),Be=n.n(Se),Ce=n(63),Ne=n.n(Ce),Ue=n(52),Ie=n.n(Ue),Te=n(54),_e=n.n(Te),Ae=n(53),Re=n.n(Ae);var Pe=Be()(function(e){return{form:{width:"100%",marginTop:e.spacing.unit},submit:{marginTop:3*e.spacing.unit}}})(function(e){var t=e.classes;return r.a.createElement("form",{className:t.form},r.a.createElement(Ie.a,{margin:"normal",required:!0,fullWidth:!0},r.a.createElement(Re.a,{htmlFor:"email"},"Email or username"),r.a.createElement(_e.a,{id:"emailOrUsername",name:"emailOrUsername",onChange:function(t){return e.onChange(t)}})),r.a.createElement(Ie.a,{margin:"normal",required:!0,fullWidth:!0},r.a.createElement(Re.a,{htmlFor:"password"},"Password"),r.a.createElement(_e.a,{name:"password",type:"password",id:"password",onChange:function(t){return e.onChange(t)}})),r.a.createElement(Ne.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:function(t){t.preventDefault(),e.onClick()}},"Login"))}),Le=function(e){function t(e){var n;return Object(w.a)(this,t),(n=Object(O.a)(this,Object(x.a)(t).call(this,e))).onInputChange=function(e){"emailOrUsername"===e.target.name?n.onEmailOrUsernameChange(e.target.value):n.onPasswordChange(e.target.value)},n.onEmailOrUsernameChange=function(e){n.setState({emailOrUsername:e})},n.onPasswordChange=function(e){n.setState({password:e})},n.state={emailOrUsername:"",password:""},n}return Object(j.a)(t,e),Object(y.a)(t,[{key:"componentWillMount",value:function(){localStorage.getItem("token")&&this.props.history.replace("/")}},{key:"onLogin",value:function(){var e=this,t=this.state,n=t.emailOrUsername,a=t.password;s.a.post("/users/login",{emailOrUsername:n,password:a}).then(function(t){localStorage.setItem("token",t.data.token),e.props.history.push("/")}).catch(function(t){e.setState({emailOrUsername:"",password:""}),alert(t.response.data.message)})}},{key:"render",value:function(){var e=this,t=this.props.classes;return r.a.createElement("main",{className:t.main},r.a.createElement(Q.c,null),r.a.createElement(Q.i,{className:t.paper},r.a.createElement(Q.a,{className:t.avatar},r.a.createElement(ze.a,null)),r.a.createElement(Q.o,{component:"h1",variant:"h5"},"Login"),r.a.createElement(Pe,{onChange:function(t){return e.onInputChange(t)},onClick:function(){return e.onLogin()}})))}}]),t}(r.a.Component),We=Be()(function(e){return{main:Object(z.a)({width:"auto",display:"block",marginLeft:3*e.spacing.unit,marginRight:3*e.spacing.unit},e.breakpoints.up(400+3*e.spacing.unit*2),{width:400,marginLeft:"auto",marginRight:"auto"}),paper:{marginTop:8*e.spacing.unit,display:"flex",flexDirection:"column",alignItems:"center",padding:"".concat(2*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px")},avatar:{margin:e.spacing.unit,backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing.unit},submit:{marginTop:3*e.spacing.unit}}})(Le);window.axios=s.a,s.a.defaults.baseURL="http://api.mountains.ml:3650/api/v1/";var De=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(l.a,null,r.a.createElement(u.d,null,r.a.createElement(xe,{exact:!0,path:"/",component:ye}),r.a.createElement(u.b,{exact:!0,path:"/login",component:We}))))};n(5590);i.a.render(r.a.createElement(De,null),document.getElementById("root"))}},[[5432,1,2]]]);
//# sourceMappingURL=main.19640f08.chunk.js.map